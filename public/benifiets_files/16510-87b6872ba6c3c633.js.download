"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[16510,34045,42399,92437],{1917:(e,t,r)=>{r.r(t),r.d(t,{categories:()=>n.categories,collections:()=>s.collections,dateShot:()=>o.dateShot,duration:()=>a.duration,editorialSortBy:()=>b.editorialSortBy,endDate:()=>u.endDate,events:()=>c.events,fps:()=>i.fps,gender:()=>g.gender,orientation:()=>d.orientation,people:()=>m.people,performing:()=>p.performing,personality:()=>f.personality,productType:()=>h.g,resolution:()=>l.resolution,specificPeople:()=>_.specificPeople,startDate:()=>y.startDate});var a=r(62675),i=r(400966),l=r(350597),n=r(595848),s=r(67089),o=r(95727),u=r(473952),c=r(690789),d=r(585754),m=r(785535),p=r(295755),f=r(867664),h=r(369316),b=r(314354),y=r(924583),g=r(903657),_=r(462284)},55288:(e,t,r)=>{r.d(t,{T:()=>s});var a=r(918171),i=r(30721),l=r(455729);let n=function(){let{withinCampaign:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{isAssetFreeToDownload:e,canPreview:!e,canShare:!e,canEdit:!e,canTry:!e,canSaveToCollection:!e,canSeeDetailsModal:!e}},s=e=>{let{contributor:t}=e||{},r=(0,i.i9)(),s=t?.id;return(0,l.useMemo)(()=>r&&(0,a.F5)({contributorId:s??""})?n({withinCampaign:!0}):n(),[s,r])}},62675:(e,t,r)=>{r.r(t),r.d(t,{duration:()=>i});var a=r(69704);let i={apiQuery:"filter[duration]",buildApiValue:e=>(0,a.db)(e),defaultValue:"0-600",getPillLabel:(0,a.zg)("common:filters_sb_duration"),inputLabel:"ent:filters_duration_inputs",primaryText:"common:filters_duration",showInSearchBar:!0,urlValue:"duration"}},62785:(e,t,r)=>{r.d(t,{k:()=>a});let a={apiQuery:"rollup",buildApiValue:e=>"false"===String(e)?e:null,defaultValue:"true",primaryText:"ent:live_feed_folder_view",showInSearchBar:!1,urlValue:"folderView",filters:[]}},67089:(e,t,r)=>{r.r(t),r.d(t,{collections:()=>a});let a={apiQuery:"filter[collectionId]",defaultValue:null,buildApiValue:e=>e,primaryText:"ent:filters_editorial_collections",getPillLabel:(e,t)=>{let{label:r}=t;return r},urlValue:r(821790).mG,columnCount:2,showInSearchBar:!0,pillFilterOverride:{columnCount:3},filters:[]}},82078:(e,t,r)=>{r.d(t,{$:()=>m});var a=r(727326),i=r(629749),l=r(581298),n=r(573923),s=r(559044),o=r(498848),u=r(377981),c=r(586694),d=r(455729);let m=()=>{let{analytics:e}=(0,c.pn)(),{locale:t}=(0,l.Y)(),{emitEditProductAnalyticsEvent:r}=(0,i.v)(),{getSearchContext:m}=(0,o.J)(),p=(0,u.h)();return(0,d.useCallback)(i=>{let{assets:l=[],audioContext:o,eventLabel:u,licenseId:c,isRedownload:d,isQuickDownload:f,isPaid:h,isComp:b,pageSection:y,listId:g}=i,_=l[0]??{},v=u||b&&a.z3l||void 0,w=(0,s.yg)(_)||(0,s.f0)(_);e.productDownloaded({products:l.map(e=>(0,n.Un)({asset:e,shouldGetSearchContextFromAsset:!0,licenseId:c,pageSection:y})),download_context:(0,n.qn)({asset:_,isComp:b,isPaid:h,isQuickDownload:f,isRedownload:d,language:t}),eventLabel:v,list_id:g??"",search_context:m(_),...o&&{audio_context:{...o}}}),r("license"),p({actionName:`Successful ${d?"redownload":"download"}`,customAttributes:{assetType:w}})},[e,t,m,r,p])}},83351:(e,t,r)=>{r.d(t,{i:()=>s});var a=r(573923),i=r(498848),l=r(586694),n=r(455729);let s=()=>{let{analytics:e}=(0,l.pn)(),{getSearchContext:t}=(0,i.J)();return(0,n.useCallback)(r=>{let{collectionId:i,collectionName:l,gridItems:n,assets:s,pageSection:o,listId:u}=r;e.productAddedToWishlist({products:s.map(e=>(0,a.Un)({asset:e,getSearchContext:t,gridItems:n,pageSection:o})),wishlist_id:i,wishlist_name:l,list_id:u??""})},[e,t])}},95727:(e,t,r)=>{r.r(t),r.d(t,{dateShot:()=>s});var a=r(549431),i=r(298616);let l={DAY:{label:"1d"},WEEK:{label:"1w",value:{weeks:1}},MONTH:{label:"1m",value:{months:1}},YEAR:{label:"1y",value:{years:1}}},n=e=>{let{DAY:t,WEEK:r,MONTH:n,YEAR:s}=l,o={[t.label]:()=>new Date,[r.label]:()=>(0,a.j)(new Date,r.value),[n.label]:()=>(0,a.j)(new Date,n.value),[s.label]:()=>(0,a.j)(new Date,s.value)};return(0,i.GP)(o[e](),"yyyy-MM-dd")||null},s={apiQuery:"filter[startDate]",defaultValue:null,buildApiValue:e=>n(e),primaryText:"ent:filters_editorial_date_shot",urlValue:"dateShot",getPillLabel:(e,t)=>{let{t:r}=e,{label:a}=t;return r(a)},columnCount:2,showInSearchBar:!0,pillFilterOverride:{primaryText:"ent:filters_editorial_dates"},filters:[{label:"ent:filters_editorial_all_dates",value:null,isDefault:!0},{label:"ent:filters_editorial_within_24_hours",value:l.DAY.label},{label:"ent:filters_editorial_within_1_week",value:l.WEEK.label},{label:"ent:filters_editorial_within_1_month",value:l.MONTH.label},{label:"ent:filters_editorial_within_1_year",value:l.YEAR.label}]}},95807:(e,t,r)=>{r.d(t,{V:()=>a});let a=e=>{let{subscriptions:t,licenseName:r}=e;return t?.find(e=>e.license===r)}},101547:(e,t,r)=>{r.r(t),r.d(t,{attendees:()=>a});let a={primaryText:"ent:filters_editorial_attendees",urlValue:"attendees",apiQuery:"filter[attendees]",buildApiValue:e=>e,getPillLabel:(e,t)=>{let{value:r}=t;return r},showInSearchBar:!0,defaultValue:""}},128940:(e,t,r)=>{r.d(t,{F:()=>l});var a=r(586694),i=r(455729);let l=()=>{let{analytics:e}=(0,a.pn)();return(0,i.useCallback)(function(){let{pageSection:t,eventLabel:r,clickTrackOptions:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t&&r&&e.inlineClick(`${t}.${r}`,a)},[e])}},130682:(e,t,r)=>{r.d(t,{b:()=>s,q:()=>n});var a=r(930500),i=r(559044),l=r(48007);let n=e=>{let{uniqueSubscription:t}=e;if(!t)return{};let{priceAsAbsolute:r,creditCurrency:n,product:s}=t,o=(0,l.t)({subscription:t}),u=n??s?.currency;if(!r){let{creditPrice:e,creditType:r=a.EV}=t;return{price:`${(0,i.YO)({price:e,isUnlimited:o})}`,priceType:r,currency:u}}let{price:c,priceType:d}=r;return{price:`${(0,i.YO)({price:c,isUnlimited:o})}`,priceType:d,currency:u}},s=e=>{let{uniqueSubscription:t}=e;if(!t)return{};let{currency:r,currencyCost:l}=t;return{price:`${(0,i.YO)({price:l,isUnlimited:!1})}`,priceType:a.EV,currency:r}}},157535:(e,t,r)=>{r.d(t,{j:()=>n});var a=r(461266),i=r(455729);let l={applyCanvasViewed:a.lQ,applyToolAnalytics:a.lQ,emitEditProductAnalyticsEvent:a.p5,setAnalyticsStatePartial:a.lQ},n=(0,i.createContext)(l)},159658:(e,t,r)=>{r.d(t,{W:()=>l});var a=r(813631),i=r(559044);let l=e=>{let{assets:t=[]}=e;return(0,i.O6)(t?.[0])?a.oh:(0,i.Kx)(t?.[0])?a.SL:(0,i.Oi)(t?.[0])?a.kc:(0,i.f0)(t?.[0])}},199518:(e,t,r)=>{r.r(t),r.d(t,{publicationRoot:()=>o,valueToLabel:()=>l});var a=r(345307),i=r(293595);let l={[a.P_]:"ent:filters_editorial_news",[a.nI]:"common:links_sports",[a.WR]:"ent:filters_editorial_entertainment",[a._S]:"ent:filters_editorial_royalty"},n={label:"ent:filters_editorial_all",value:null,isDefault:!0},s=[n,...a.C0.map(e=>({label:l[e],value:e}))],o={apiQuery:"filter[category]",defaultValue:n.value,buildApiValue:i.BB,primaryText:"ent:filters_editorial_folder",urlValue:"publicationRoot",getPillLabel:(e,t)=>{let{t:r}=e,{label:a}=t;return r(a)},showInSearchBar:!0,columnCount:2,filters:s}},244895:(e,t,r)=>{r.d(t,{d:()=>l});var a=r(377981),i=r(455729);let l=()=>{let[e,t]=(0,i.useState)(!1),r=(0,a.h)();return{isModalOpen:e,handleOpenModal:()=>{r({actionName:"convert - signup modal opened"}),t(!0)},handleCloseModal:()=>{t(!1)}}}},245371:(e,t,r)=>{r.d(t,{X:()=>z});var a=r(244895),i=r(743627),l=r(95903),n=r(693313),s=r(559044),o=r(120638),u=r(503424),c=r(778042),d=r(487519),m=r(648973),p=r(813631),f=r(728779),h=r(705992),b=r(573923),y=r(477222),g=r(974384),_=r(788098),v=r(83351),w=r(323069),S=r(586694),C=r(531950),I=r(884378),T=r(293251),x=r(455729),P=r(760973);let A=e=>{let{assetId:t,asset:{id:r,tier:a=10,src:i,aspect:l,width:n,height:s}}=e;return{metadata:{notes:{media_id:t,alpha_num_id:r,rex_id:r,media_type:p.uH,tier:a,media:{aspect:l,width:n,height:s,url:i}}}}},k=async e=>{let{isRexEditorial:t,collectionId:r,verificationCode:a,setAsCover:i,firstAsset:l,collectionType:n}=e,o=(0,s.G_)(l);if(o!==p.K2)return;let u=(0,d.VT)({queryParams:{id:r,verificationCode:a,collectionType:n}}).formattedUrl,c=await C.Bn.get(u).then(e=>(0,I.A)(e.data)||{});if(!c?.coverItem?.id){let e=(0,s.qQ)({asset:l,isRexEditorial:t}),a=(0,g.p)({collectionId:r,mappedAssetType:o,assetId:e});await i({collection:{id:r},mediaItem:{id:a}})}},V=()=>{let[e,t]=(0,x.useState)({status:"",error:void 0}),[r,a]=(0,x.useState)(""),[i,l]=(0,x.useState)(""),n=(0,v.i)(),{setAsCover:o}=(0,P.N)(),{isBrandSstk:u}=(0,w.P)(),{analytics:c}=(0,S.pn)(),I=(0,b.cv)(c),V=(0,T.jE)();return{add:(0,x.useCallback)(async e=>{let{assets:r,assetType:i,gridItems:c,groupedOptions:b,id:v,title:w,verificationCode:S,pageSection:T,listId:x,isMoveTo:P,sourceCollectionId:L,callback:$}=e,N=(0,y.pQ)({assetType:i,isBrandSstk:u});try{t({status:m.qO,error:void 0});let e=(0,s.LO)(i),u=v,y=S;if(b&&b.length){let e=b.find(e=>{let{title:t}=e;return t===w});e&&(u=e.id,y=e.verificationCode)}if(!u){let e=(0,d.G2)().formattedUrl,t={data:{attributes:{title:w,collectionType:N,isPublic:!1},type:f.I}},{data:{id:r,attributes:{verificationCode:a}}}=await C.Bn.post(e,t);u=r,y=a}let V={data:r.map(t=>{let r=(0,s.qQ)({asset:t,isRexEditorial:e}),a=(0,s.G_)(t);return{type:f.kS,id:(0,g.p)({collectionId:u,mappedAssetType:a,assetId:r}),...a===p.K2&&A({assetId:r,asset:t})}})};P&&L&&(V.meta={sourceCollectionId:L,operation:"move"});let $=(0,d.u6)({urlParams:{id:u},queryParams:{isRexEditorial:e}}).formattedUrl,j=(0,_.H)(I);await C.Bn.post($,V,j?{headers:{[h.ed]:j}}:void 0);let B=r[0];await k({isRexEditorial:e,collectionId:u,verificationCode:y,setAsCover:o,firstAsset:B,collectionType:N}),n({collectionId:u,collectionName:w,gridItems:c,assets:r,pageSection:T,listId:x}),a(u),l(y)}catch(e){t({status:m.Nz,error:e})}finally{await V.invalidateQueries({queryKey:[(0,d.Re)({queryParams:{"filter[type]":N}}).formattedUrl]}),await $?.()}},[u,I,o,n,V]),collectionId:r,setStatus:t,status:e,verificationCode:i}};var L=r(30721),$=r(461266),N=r(985091),j=r(406029),B=r(571024),D=r.n(B);let R=D()(()=>Promise.all([r.e(27510),r.e(10382),r.e(51907),r.e(14736),r.e(73813),r.e(7529)]).then(r.bind(r,100507)).then(e=>({default:e.SaveSnackbarOrModal})),{loadableGenerated:{webpack:()=>[100507]},ssr:!1});var U=r(84781),E=r(213304);let O=D()(()=>Promise.all([r.e(27510),r.e(10382),r.e(63714),r.e(58071),r.e(77618),r.e(6838),r.e(737),r.e(55062)]).then(r.bind(r,663406)).then(e=>({default:e.CollectionModal})),{loadableGenerated:{webpack:()=>[663406]},ssr:!1}),F=e=>{let{isOpen:t,...r}=e;return(0,E.G)(t)&&(0,j.jsx)(O,{isOpen:t,...r})},M=D()(()=>r.e(92518).then(r.bind(r,293304)).then(e=>({default:e.Snackbar})),{loadableGenerated:{webpack:()=>[293304]},ssr:!1}),Q=e=>{let{assets:t,assetType:r="",collectionId:a,collectionTitle:i,gridItems:n=null,isDialogActive:s,isSnackBarOpen:o,onAddToCollections:u,onAlertSnackbarClose:c,onAddToCollectionsComplete:d,redirectToCDPAction:m={},setIsDialogActive:p,showCopyToModalTitle:f,status:h,verificationCode:b,pageSection:y,isMoveTo:g,sourceCollectionId:_}=e,v=(0,U.u)(),w=(0,E.G)(t),S=(0,x.useCallback)(()=>p(!1),[p]),{folders:C}=(0,l.E)();return w?!v&&s?C&&(0,j.jsx)(R,{onClose:S,setIsDialogActive:p,isOpen:s,items:t,onAddToCollectionsComplete:d,pageSection:y,isMoveTo:g}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(F,{assets:t,assetType:r,collectionId:a,gridItems:n,isOpen:s,onAddToCollections:u,setIsDialogActive:p,showCopyToModalTitle:f,pageSection:y,sourceCollectionId:_}),(0,j.jsx)(M,{assetType:r,collectionId:a,collectionTitle:i,isOpen:o,onAlertSnackbarClose:c,redirectToCDPAction:m,status:h,verificationCode:b,isMoveTo:g})]}):null},q=e=>[].concat(e),z=e=>{let{initialAssetType:t,sourceCollectionId:r=null,mutation:d=$.lQ}=e,m=(0,i.o)(),[p,f]=(0,x.useState)(!1),[h,b]=(0,x.useState)(!1),[y,g]=(0,x.useState)(!1),[_,v]=(0,x.useState)(""),[w,S]=(0,x.useState)(null),[C,I]=(0,x.useState)(t),[T,P]=(0,x.useState)(null),[A,k]=(0,x.useState)(null),[j,B]=(0,x.useState)(!1),[D,R]=(0,x.useState)(null),[U,E]=(0,x.useState)({}),O=(0,L.i9)(),F=(0,o.pb)(),M=(0,u.G)(),z=(0,c.a)(),{isModalOpen:W,handleCloseModal:G,handleOpenModal:H}=(0,a.d)(),[K,J]=(0,x.useState)({shouldHandleRedirect:!1,redirectToCollectionDetailsPage:M}),{add:Y,status:Z,collectionId:X,verificationCode:ee}=V(),{setIsSaveInProgress:et,setDisableFetch:er}=(0,l.E)();(0,x.useEffect)(()=>()=>S(null),[]),(0,x.useEffect)(()=>()=>I(""),[]);let ea=(0,x.useCallback)(e=>{let{formattedAssets:t,gridItems:r,isCopyToCollection:a,mappedAssetType:i,redirectToCollectionDetailsPage:l,pageSection:n,listId:s,isMoveToAction:o}=e;I(i),S(t),k(n),R(s),B(o),a?g(!0):o&&g(!1),r&&P(r),l&&J({shouldHandleRedirect:!0,redirectToCollectionDetailsPage:l}),f(!0)},[]),ei=(0,x.useMemo)(()=>({assets:w,pageSection:A,assetType:C,collectionId:X,collectionTitle:_,gridItems:T,isDialogActive:p,isSnackBarOpen:h,onAddToCollections:e=>{let{id:t,title:a,verificationCode:i,groupedOptions:l,pageSection:n}=e;return v(a),f(!1),b(!0),Y({assetType:C,assets:w,gridItems:T,groupedOptions:l,id:t,title:a,verificationCode:i,pageSection:n||A,listId:D,isMoveTo:j,sourceCollectionId:r,callback:d})},onAlertSnackbarClose:()=>b(!1),redirectToCDPAction:K,setIsDialogActive:f,showCopyToModalTitle:y,status:Z,verificationCode:ee,isMoveTo:j,sourceCollectionId:r}),[w,T,Y,D,A,C,X,_,p,h,K,y,Z,ee,j,r,d]),el=(0,x.useCallback)(async e=>{let{assets:t,gridItems:r,isCopyToCollection:a=!1,redirectToCollectionDetailsPage:i,pageSection:l,listId:o,openModal:u=!1,cta:c="",isMoveToAction:d=!1}=e;if(m?.current&&(m.current.isInProgress=!0,m.current.continuousStart?.()),await (0,N.a)(),O){er(!1),et(!0);let e=q(t);ea({formattedAssets:e,gridItems:r,isCopyToCollection:a,mappedAssetType:(0,s.G_)(e[0]),redirectToCollectionDetailsPage:i,pageSection:l,isMoveToAction:d,listId:o})}else u&&!z?(E({cta:c,...t&&{assets:t},...r&&{gridItems:r}}),t&&window.sessionStorage.setItem(n.xN,JSON.stringify(t)),r&&window.sessionStorage.setItem(n.ac,JSON.stringify(r)),H()):(0,n.F_)({assets:t,gridItems:r,signUpPath:F})},[O,z,er,et,ea,m,H,F]),en=e=>e&&"undefined"!==e,es=(0,x.useCallback)(async()=>{let e=window.sessionStorage.getItem(n.xN),t=window.sessionStorage.getItem(n.ac);if(en(e)&&en(t)){let r=JSON.parse(e),a=JSON.parse(t);await el({assets:r,gridItems:a,redirectToCollectionDetailsPage:!1})}window.sessionStorage.removeItem(n.Vt),window.sessionStorage.removeItem(n.xN),window.sessionStorage.removeItem(n.ac)},[el]);return(0,x.useEffect)(()=>{let e=window.sessionStorage.getItem(n.Vt);en(e)&&JSON.parse(e)?O&&es():(0,n.vt)({showAddToCollectionModal:ea,isLoggedInUser:O})},[es,O,ea]),{addToCollectionViewsProps:ei,addToCollectionViewsHandler:el,AddToCollectionViews:Q,isModalOpen:W,handleCloseModal:G,collectionProps:U}}},263739:(e,t,r)=>{r.d(t,{A:()=>v,As:()=>c,J_:()=>u,KC:()=>h,Wk:()=>f,en:()=>m,fy:()=>g,nR:()=>b,uO:()=>d,ul:()=>_,zZ:()=>y});var a=r(532598),i=r(813631),l=r(705992),n=r(485650),s=r(559044),o=r(531648);let u=e=>{let{license:t,existingAssetsLicenses:r}=e;if(!r)return!(t?.licenseName&&n.t9I.includes(t?.licenseName))&&r;let a=(0,o.xB)({asset:t.mediaItem});return!!r?.[t.mediaItem?.id]?.some(e=>e!==n.H8E[a])},c=e=>{let{subscriptions:t=[]}=e;return t.some(e=>{let{redeemableFor:t}=e;return n.E11.some(e=>e===t)})?n.Ngi:n.jH2},d=e=>e.reduce((e,t)=>{let r=t.licenseId;return e.includes(r)||e.push(r),e},[]),m=e=>{let{alreadyLicensedAssets:t,asset:r}=e;return!!t.find(e=>{let{contentId:t,contentType:a,licenseId:l}=e,n=r.type===i.W1?i.vo:r.type;return t===r.id&&a===n&&l===r.licenseId})},p=e=>{let{licenseType:t,existingLicenses:r,asset:a,isSelect:i=!1}=e,l=[`footage_${t}_sd`,`footage_${t}_hd`],n=[...l,`footage_${t}_lowres`];return(i&&l.push(`footage_${t}_4k`),a.licenseId===`footage_${t}_sd`)?r?.some(e=>!!l.includes(e)):a.licenseId===`footage_${t}_lowres`&&r?.some(e=>!!n.includes(e))},f=e=>{let{existingLicenses:t,asset:r}=e;switch(r.type){case i.BI:case i.G_:if(n.dO2.some(e=>p({asset:r,licenseType:e,existingLicenses:t})))return!0;return!!t?.includes(r.licenseId);case i.W1:default:return!!t?.includes(r.licenseId?.replace(/_unlimited/,""))}},h=e=>{let{error:t={},t:r}=e,{meta:a={}}=t;if(a?.exception_type===n.o__){let{value:e}=a.errors.slice(-1).pop(),t="comp_limit"===e.name;return r("P1M"===e.period_length?t?"ent:monthly_comp_limit_reached":"ent:monthly_licensing_limit_reached":t?"ent:daily_comp_limit_reached":"ent:daily_licensing_limit_reached")}return r("ent:license_now_error_message")},b=e=>{let t,{error:r={},user:a={}}=e,{detail:i,headers:s={},message:o,meta:u={},name:c,source:d={},title:m}=r,{id:p,username:f,organizationId:h}=a||{},b=u?.exception_type,y=d?.request?.id||s?.[l.A2];switch(b){case n.o__:{let e=u.errors?.map(e=>{let{value:t}=e;return t?.name});t=`${m}: ${e.join(",")}`;break}case n.Bxr:{let e=u.errors?.map(e=>{let{code:t,value:r}=e;return`${t}: ${r?.content_type} - ${r?.content_id} - ${r?.content_size}`});t=`${m}: ${e.join(",")}`;break}default:t=[b,m,i,o,c].reduce((e,t)=>t&&!e.includes(t)?[...e,t]:e,[]).join(", ")}return{organizationId:h,userId:p,username:f,errorSummary:t,error:r,requestId:y}},y=e=>{let{organizationId:t}=e;return`organization-${t}`},g=e=>{let{isEligibilityLoading:t,existingCurrentAssetLiceses:r}=e;return t?void 0:r||[]},_=e=>{let{asset:t,selectedLicenseId:r,activeFormatType:i,selectedShadowsOption:l}=e;return{...t,itemType:t.itemType||(0,o.Qk)({asset:t}),licenseId:r,...i===a.kr&&{licenseAsJpeg:!0},...(0,s.R1)(t)?{selectedFormatType:i,selectedShadowsOption:l}:{}}},v=e=>{let{assets:t=[]}=e;return t.length&&t.map(e=>e.licenseId).filter((e,t,r)=>r.indexOf(e)===t)||[]}},268958:(e,t,r)=>{r.d(t,{I:()=>i});var a=r(930500);let i=e=>{let{canShowLedgerLowBalance:t,hasInsufficientSubscriptionCredits:r=!1,units:i,amount:l,initialCommitment:n}=e;if(r)return!1;let s=a.Gy[i];return t&&s?Number(l)<=s:Number(l)<=Number(n)*a.O7}},295755:(e,t,r)=>{r.r(t),r.d(t,{performing:()=>a});let a={apiQuery:"filter[category]",defaultValue:null,buildApiValue:()=>null,primaryText:"ent:filters_editorial_performance",urlValue:"performance",getPillLabel:(e,t)=>{let{t:r}=e,{label:a}=t;return r(a)},columnCount:2,showInSearchBar:!0,filters:r(970767).R6.performing}},302450:(e,t,r)=>{r.d(t,{s:()=>l});var a=r(813631),i=r(342232);let l=e=>{let{assetType:t,contentTier:r=0,subscriptions:l}=e;if(!l||!t)return{};switch(t){case a.oh:return{compSubscriptions:l.editorialImageCompSubscriptions,subscriptions:(0,i.e)({assetType:t,subscriptions:l.editorialImageSubscriptions,contentTier:r})};case a.SL:return{compSubscriptions:l.editorialVideoCompSubscriptions,subscriptions:(0,i.e)({assetType:t,subscriptions:l.editorialVideoSubscriptions,contentTier:r})};case a.G_:return{compSubscriptions:l.videoCompSubscriptions,subscriptions:(0,i.e)({assetType:t,subscriptions:l.videoSubscriptions,contentTier:r})};case a.on:case a.FY:return{compSubscriptions:l.musicCompSubscriptions,subscriptions:(0,i.e)({assetType:t,subscriptions:l.musicSubscriptions,contentTier:r})};case a.M9:return{compSubscriptions:l.sfxCompSubscriptions,subscriptions:(0,i.e)({assetType:t,subscriptions:l.sfxSubscriptions,contentTier:r})};case a.W1:default:return{compSubscriptions:l.imageCompSubscriptions,subscriptions:(0,i.e)({assetType:t,subscriptions:l.imageSubscriptions,contentTier:r})}}}},314354:(e,t,r)=>{r.r(t),r.d(t,{editorialSortBy:()=>n,editorialSortByLoggedIn:()=>s});var a=r(727326),i=r(821790);let l={apiQuery:"sort",buildApiValue:e=>e,columnCount:2,primaryText:"common:filters_sort_by",urlValue:"sort",showInSearchBar:!1,disableUnderline:!0,inputLabel:"common:filters_sort_by"},n={...l,filters:[{label:"common:filters_sort_by_newest",analyticsLabel:a.ygn,value:i.vH},{label:"common:filters_sort_by_oldest",analyticsLabel:a.dmM,value:i.FP},{label:"common:filters_sort_by_popular",analyticsLabel:a.zii,value:i.EI,isDefault:!0},{label:"common:filters_sort_by_mostrelevant",analyticsLabel:a.BVk,value:i.PZ},{label:"common:filters_sort_by_freshcontent",analyticsLabel:a.obh,value:i.ly}]},s={...l,filters:[{label:"common:filters_sort_by_newest",analyticsLabel:a.ygn,value:i.vH,isDefault:!0},{label:"common:filters_sort_by_oldest",analyticsLabel:a.dmM,value:i.FP},{label:"common:filters_sort_by_popular",analyticsLabel:a.zii,value:i.EI},{label:"common:filters_sort_by_mostrelevant",analyticsLabel:a.BVk,value:i.PZ},{label:"common:filters_sort_by_freshcontent",analyticsLabel:a.obh,value:i.ly}]}},342232:(e,t,r)=>{r.d(t,{e:()=>u});var a=r(930500);let i=e=>e.every(e=>{let{activityTracking:t,creditType:r,priceAsAbsolute:i}=e;return t===a.sS&&r===a.zy&&!!i}),l=e=>i(e)?e.sort((e,t)=>{let{priceAsAbsolute:{price:r=0}={}}=e,{priceAsAbsolute:{price:a=0}={}}=t;return a-r}):e.sort((e,t)=>t.creditPrice-e.creditPrice);var n=r(560325);let s=e=>{let{item:t,uniqueSubsAcc:r}=e;return r.find(e=>{let{redeemableFor:r,name:a}=e;return t.redeemableFor===r||t.name&&t.name===a})},o=e=>{let{subscriptionToUse:t,licenseName:r}=e,a=t?.currentLicenses;return!!a&&a.length&&!a?.find(e=>{let{redeemableFor:t}=e;return t===r?.replace("/_unlimited/","")})},u=e=>{let{subscriptions:t=[],contentTier:r,assetType:a}=e;return l(t.reduce((e,i)=>{let l=i.redeemableFor||i.name,u=(0,n.A)({subscriptions:t,licenseName:l,contentTier:r,assetType:a});return!u||o({subscriptionToUse:u,licenseName:l})||s({item:i,uniqueSubsAcc:e})?e:[...e,u]},[]))}},350597:(e,t,r)=>{r.r(t),r.d(t,{resolution:()=>l});var a=r(821790),i=r(69704);let l={apiQuery:"filter[resolution]",buildApiValue:e=>{let t=(0,i.rN)(e);return t?.replace("hd","high_definition").replace("sd","standard_definition")},columnCount:3,defaultValue:[],getPillLabel:(e,t)=>{let{t:r}=e,{label:a}=t;return r(a)},primaryText:"common:filters_max_resolution",showInSearchBar:!0,urlValue:a.z4,filters:[{label:"common:resolutions_4k",value:"4k",analyticsLabel:"resolution-4k"},{label:"common:resolutions_hd",value:"hd",analyticsLabel:"resolution-hd"},{label:"common:resolutions_sd",value:"sd",analyticsLabel:"resolution-sd"}]}},353302:(e,t,r)=>{r.r(t),r.d(t,{attendees:()=>a.attendees});var a=r(101547)},366092:(e,t,r)=>{r.d(t,{_B:()=>Y,Ym:()=>J,ng:()=>ee,Nc:()=>et,_R:()=>Z,Fh:()=>X,tS:()=>er,gz:()=>ei});var a=r(936479),i=r(487519),l=r(648973),n=r(532598),s=r(338436),o=r(813631),u=r(514264),c=r(345307),d=r(969185),m=r(915261),p=r(930500),f=r(693417),h=r(573923),b=r(116835),y=r(531648),g=r(559044),_=r(644783),v=r(871335),w=r(268958);let S=e=>{let{items:t,assetEligibleSubscriptions:r,canShowLedgerLowBalance:a}=e,i={hasInsufficientSubscriptionCredits:!1,hasLowDebitableBalance:!1,insufficientAmount:0,total:0,totalCreditAmount:0,amountType:p.mz};return t.reduce((e,t)=>{let{licenseId:l,price:n,id:s}=t,o=r?.[s]?.licenseSubscriptions.find(e=>e.license===l);if(!o)return i;let{totalPrepaidAmount:u,prepaidAmountRemaining:c,currency:d,costType:m}=o,p=parseFloat(n),f=parseFloat(e.total)+p;return e.total+=p,"currency"===m&&f>c&&(e.hasInsufficientSubscriptionCredits=!0,e.hasLowDebitableBalance=!1,e.insufficientAmount=f-c),e.hasLowDebitableBalance=(0,w.I)({canShowLedgerLowBalance:a,hasInsufficientSubscriptionCredits:e.hasInsufficientSubscriptionCredits,units:d,amount:c,initialCommitment:u}),e},i)};var C=r(422207),I=r(48007),T=r(585076),x=r(560325),P=r(130682),A=r(957160),k=r(462430),V=r(867666),L=r(516319),$=r(355790),N=r(921075),j=r(238990),B=r(531950),D=r(524335),R=r(293251),U=r(12482),E=r(981278),O=r(455729),F=r(726988),M=r(498848),Q=r(30721);let q="Size limit warning",z=e=>{let{item:t,subscriptions:r}=e,{itemType:a,metadata:i}=t,l=(0,g.Q)({asset:t}),n=i?.cart?.licenseId,{allSubscriptions:s}=r;switch(a){case o.G_:return(0,A.d)({licenseName:n,subscriptions:s});case o.FY:case o.M9:case o.W1:default:return(0,x.A)({licenseName:n,subscriptions:s,assetType:a,contentTier:l})}},W=e=>{let{item:t}=e;return t.largeThumb?.url||t.preview?.url||t.preview||t.thumb||""},G=e=>{let{asset:t}=e;return t.itemType===o.W1&&!t.sizes&&!t.metadata?.cart.sizes},H=e=>{let{item:t}=e,r=(0,g.$9)(t);if(t.itemType===o.m$){let e=t?.product?.productPreviews[0]?.previewThumbnailImages?.find(e=>{let{resolution:t}=e;return"res600x600"===t}),r={[s.jx]:{height:600,width:600,src:`https://${e?.assetFile?.s3Path}`}};return{[s.jx]:{height:600,width:600,src:(0,_.c0)({...t,angle:t?.metadata?.cart?.angle,displays:r})}}}return r?{[s.pI]:{height:t.height||t.preview?.height,width:t.width||t.preview?.width,src:t.preview||t.thumb}}:{[s.jx]:{height:t.largeThumb?.height||t.preview?.height,width:t.largeThumb?.width||t.preview?.width,src:t.preview?.url}}},K=e=>{let{item:t,price:r,priceType:a,currency:i,subscriptionId:l,hasCreditsRemaining:n,isUnlimited:u,isUnavailableSubscription:c}=e,d=H({item:t}),p=W({item:t}).replace("-150nw","-260nw")||d?.[s.jx]?.src,f=t.assets?.find(e=>{let{assetClass:t}=e;return t===m.Iw}),b=[o.m$,o.W1].includes(t.itemType)&&!t.src,y=t?.externalSource?.details?.pixelsquid?.product?.metadata?.isEditorial,g=t.meta?.search_context;return t.metadata?.cart?.searchContext&&(g=(0,h.fF)({trackingId:t.metadata?.cart?.searchContext?.searchTrackingId,searchTerm:t.metadata?.cart?.searchContext?.searchTerm})),{...t,id:t.itemId,...[o.W1,o.m$,o.uH,o.rr].some(e=>e===t.itemType)&&{image:{id:t.itemId,categories:t.categories,description:t.description||t.subhead||"",url:p,isEditorial:!!t.isEditorial||!!y,isPremium:!!t.isPremium,displays:d,permalink:t.permalink,isIllustration:t.isIllustration,isVector:t.isVector}},type:t.itemType,isFootageSelect:t.footageSelect,price:r,priceType:a,waveformPng:t.waveformPng||f?.externalUrl,currency:i,licenseId:t.metadata?.cart?.licenseId||"",subscriptionId:l,hasCreditsRemaining:n,isPixelSquid:t.itemType===o.m$,isUnavailableAsset:G({asset:t}),isUnlimited:u,isUnavailableSubscription:c,meta:{...g?{search_context:g}:{}},...b&&{src:p}}},J=e=>{let{cartItems:t=[],subscriptions:r}=e;return t.filter(e=>[o.W1,o.m$,o.G_,o.FY,o.M9,o.uH,o.rr].includes(e.itemType)).map(e=>{let t=z({item:e,subscriptions:r}),{price:a=0,priceType:i=p.EV}=(0,P.q)({uniqueSubscription:t});return K({item:e,price:a,priceType:i,currency:t?.creditCurrency||"",subscriptionId:t?.id||"-",isUnavailableSubscription:!t,hasCreditsRemaining:(0,C.X)({subscription:t}),isUnlimited:(0,I.t)({subscription:t})})})},Y=e=>{let{isPrimary:t,isLedger:r=!1,isEnterpriseCartEndpointsMigration:l=!1}=e;if(l){let e=t?u.jT:u.pw;return(0,i.yT)({urlParams:{cartType:e},...r&&{queryParams:{isLedger:r}}}).formattedUrl}return(0,a.Xl)({urlParams:{isPrimary:t},...r&&{queryParams:{isLedger:r}}}).formattedUrl},Z=e=>{let{isPrimary:t}=e,r=(0,R.jE)(),a=(0,Q.i9)(),{data:i}=(0,$.R7)(),{checkGate:l}=(0,D.U)(),n=l(d.Kk),s=Y({isPrimary:t,isEnterpriseCartEndpointsMigration:n}),o=n?B.Bn:B.C2,{data:u,error:c,isLoading:m}=(0,U.I)({queryKey:[s],enabled:!!(a&&i),queryFn:()=>o.get(s).then(e=>{let{data:t}=e;return t&&{...t,items:J({cartItems:t.items,subscriptions:i})}}).catch(e=>{throw window.NREUM?.recordCustomEvent?.(f.s,{url:s,errorMessage:e.message,errorStack:e.stack}),e})});return{data:u,error:c,isLoading:m,mutate:async e=>e?r.setQueryData([s],e):r.invalidateQueries({queryKey:[s]})}},X=e=>{let{isPrimary:t}=e,r=(0,R.jE)(),a=(0,Q.i9)(),{checkGate:i}=(0,D.U)(),l=i(d.Kk),n=Y({isPrimary:t,isLedger:!0,isEnterpriseCartEndpointsMigration:l}),s=l?B.Bn:B.C2,{data:u}=(0,U.I)({queryKey:[n],enabled:a,queryFn:()=>s.get(n).then(e=>{let{data:t}=e;return t&&{...t,items:t.items.filter(e=>[o.W1,o.m$,o.G_,o.FY,o.M9,o.uH,o.rr].includes(e.itemType))}}).catch(e=>{throw window.NREUM?.recordCustomEvent?.(f.s,{url:n,errorMessage:e.message,errorStack:e.stack}),e})});return{data:u,mutate:async e=>e?r.setQueryData([n],e):r.invalidateQueries({queryKey:[n]})}},ee=e=>{let{cartItems:t=[],assetEligibleSubscriptions:r}=e;return t.map(e=>{let{id:t,itemType:a,metadata:{cart:{licenseId:i}={}}={}}=e??{},l=(0,k.S)({assetType:a,subscriptions:r?.[t]?.licenseSubscriptions,selectedLicenseId:i}),{price:n=0,priceType:s=p.EV}=(0,P.b)({uniqueSubscription:l});return K({item:e,price:n,priceType:s,currency:l?.currency||l?.creditCurrency||"",subscriptionId:l?.id||"-",isUnavailableSubscription:!l,hasCreditsRemaining:!0,isUnlimited:(0,I.t)({subscription:l})})})},et=()=>{let e=(0,R.jE)(),[t,r]=(0,O.useState)({status:"",error:void 0}),[s,m]=(0,O.useState)(!1),p=(0,O.useRef)(!1),{checkGate:f}=(0,D.U)(),h=f(d.Kk),{productAddedAnalyticsEvent:g,cartViewedAnalyticsEvent:_,productRemovedAnalyticsEvent:v}=(0,F.f)(),{getSearchContext:w}=(0,M.J)(),S=(0,E.useRouter)(),C=(0,j.O)(1e3),{queueIpReview:I}=(0,V.F)({trackingId:w()?.search_tracking_id,onComplete:C}),T=(0,O.useCallback)(e=>{void 0===e?.cartId||p.current||(p.current=!0,_(e))},[p,_]),x=(0,O.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.filter(e=>{let{id:r}=e;return -1===t.findIndex(e=>{let{id:t}=e;return`${r}`==`${t}`})})},[]),P=(0,O.useCallback)(e=>{let{cartItems:t=[],itemsToAdd:r=[]}=e,a=[...t];return r.forEach(e=>{let t=(0,y.Qk)({asset:e}),r=a.findIndex(r=>{let{id:a,type:i}=r;return`${a}`==`${e.id}`&&i===t});r>-1?a[r]={...e}:a.unshift({...e,addedTime:new Date})}),a},[]),A=(0,O.useCallback)(async e=>{let{items:t,licenseId:r,licenseAsJpeg:a}=e;return Promise.all(t?.map(async e=>{let t=(0,y.Qk)({asset:e}),i=r||e.licenseId,l=a||e.licenseAsJpeg,n=await (0,b.og)({asset:e,licenseName:i});return{item_id:e.id,item_type:t,metadata:{cart:{license_id:i,license_as_jpeg:l,subscription_id:e.subscriptionId,size:n.content_size,format:n.content_format,sizes:(0,b.Rj)({asset:e}),search_context:w(e),source:[o.uH,o.rr].some(e=>e===t)?c.Au:"",...t===o.m$&&{angle:n.angle}}}}}))},[w]),k=(0,O.useCallback)(async t=>{let{cart:s,eventLabel:o,gridItems:c,isPrimary:d=!0,itemsToAdd:p,licenseId:f,formatType:b,licensePrice:y,mutateCart:_,withOptimisticUpdate:S=!0,pageSection:C,listId:T}=t;try{let e=p.map(e=>({...e,meta:{search_context:w(e),...e.meta}}));r({status:"",error:void 0}),m(!1);let t=P({cartItems:s.items,itemsToAdd:e});if(t.length>u.Zm){r({status:l.Nz}),m(!0);return}S&&_(e=>({...e,items:t}));let x=await A({items:e,licenseId:f,licenseAsJpeg:b===n.kr});if(h){let e=d?u.jT:u.pw,t=(0,i.AG)({urlParams:{cartType:e}}).formattedUrl;await B.Bn.post(t,x)}else{let e=(0,a.bE)({urlParams:{isPrimary:d}}).formattedUrl;await B.C2.post(e,x)}r({status:l.qO}),I(p),d&&e.forEach(e=>{let t=s.items.find(t=>{let{id:r}=t;return`${r}`==`${e.id}`});t&&f!==t.licenseId&&v({cart:s,eventLabel:o,gridItems:c,items:[e],matchingCartItem:t,pageSection:C}),g({cart:s,eventLabel:o,gridItems:c,items:[e],licenseId:f,licensePrice:y,pageSection:C,listId:T})})}catch(e){r({status:l.Nz,error:e})}finally{await e.invalidateQueries({queryKey:[Y({isPrimary:d,isLedger:!0,isEnterpriseCartEndpointsMigration:h})]}),await e.invalidateQueries({queryKey:[Y({isPrimary:d,isEnterpriseCartEndpointsMigration:h})]})}},[P,A,w,g,v,e,I,h]),L=(0,O.useCallback)(async t=>{let{cartData:r,eventLabel:l,gridItems:n,isPrimary:s=!0,itemsToRemove:o=[],mutateCart:c,pageSection:d,routePathProps:m,withOptimisticUpdate:p=!0,mutateCallback:f}=t;try{p&&c(e=>({...e,items:x(e.items,o)}),!1);let e=null,t=null;if(h){let r=s?u.jT:u.pw;t=(0,i.v7)({urlParams:{cartType:r}}).formattedUrl,e=B.Bn}else t=(0,a.dt)({urlParams:{isPrimary:s}}).formattedUrl,e=B.C2;await e.delete(t,{data:o.map(e=>({item_id:e.id,item_type:(0,y.Qk)({asset:e})}))}),s&&v({cart:r,eventLabel:l,gridItems:n,items:o,pageSection:d}),m&&S.push(...m)}catch(e){}finally{f?f({isPrimary:s}):(await e.invalidateQueries({queryKey:[Y({isPrimary:s,isLedger:!0,isEnterpriseCartEndpointsMigration:h})]}),await e.invalidateQueries({queryKey:[Y({isPrimary:s,isEnterpriseCartEndpointsMigration:h})]}))}},[x,v,S,e,h]);return{triggerCartViewedEvent:T,addCartItems:k,removeCartItems:L,moveToSaveForLater:(0,O.useCallback)(async e=>{let{eventLabel:t,itemsToMove:n,pageSection:s,primaryCart:o,savedForLaterCart:c,mutatePrimaryCart:d,mutateSavedForLaterCart:p}=e;r({status:"",error:void 0}),m(!1);let f=P({cartItems:c.items,itemsToAdd:n});if(f.length>u.Zm)throw r({status:l.Nz}),m(!0),Error(q);d(e=>({...e,items:x(e.items,n)}),!1),p(e=>({...e,items:f}),!1);let b=h?(0,i.jO)({urlParams:{cartType:u.jT,destinationCartType:u.pw}}).formattedUrl:(0,a.cb)({urlParams:{fromCartType:u.jT,toCartType:u.pw}}).formattedUrl,y=await A({items:n}),g=h?B.Bn:B.C2;await g.post(b,y),v({cart:o,eventLabel:t,items:n,pageSection:s})},[P,A,v,x,h]),moveToPrimary:(0,O.useCallback)(async e=>{let{itemsToMove:t,primaryCart:n,mutatePrimaryCart:s,mutateSavedForLaterCart:o}=e;r({status:"",error:void 0}),m(!1);let c=P({cartItems:n.items,itemsToAdd:t});if(c.length>u.Zm)throw r({status:l.Nz}),m(!0),Error(q);o(e=>({...e,items:x(e.items,t)})),s(e=>({...e,items:c}));let d=h?(0,i.jO)({urlParams:{cartType:u.pw,destinationCartType:u.jT}}).formattedUrl:(0,a.cb)({urlParams:{fromCartType:u.pw,toCartType:u.jT}}).formattedUrl,p=await A({items:t}),f=h?B.Bn:B.C2;await f.post(d,p),g({cart:n,items:t})},[P,A,g,x,h]),addToCartStatus:t,setAddToCartStatus:r,isSizeLimitWarning:s}},er=e=>{let{cartItems:t}=e,{data:r}=(0,$.R7)(),{isLoading:a,...i}=(0,N.h)(),l=(e=>{let{items:t}=e;return t?.some(e=>{let{hasCreditsRemaining:t}=e;return!t})})({items:t}),{amountType:n,hasInsufficientSubscriptionCredits:s,insufficientAmount:o,hasLowDebitableBalance:u}=(0,T.E)({items:t,isLoading:!r||a,subscriptions:r,userCapabilities:i});return{amountType:n,isDebitableUser:(0,v.fY)({userCapabilities:i}),userCanViewDebitableBalance:(0,v.Pl)({userCapabilities:i}),hasInsufficientCartItemsCredits:l,hasInsufficientSubscriptionCredits:s,insufficientAmount:o,hasLowDebitableBalance:u}},ea=e=>{let{items:t}=e;return t?.some(e=>{let{hasCreditsRemaining:t}=e;return!t})},ei=e=>{let{cartItems:t,assetEligibleSubscriptions:r}=e,{isLoading:a,...i}=(0,N.h)(),l=(0,L.k)();if(a)return{};let n=ea({items:t}),{hasInsufficientSubscriptionCredits:s,insufficientAmount:o,hasLowDebitableBalance:u,amountType:c}=S({items:t,assetEligibleSubscriptions:r,canShowLedgerLowBalance:l})||{};return{amountType:c,isDebitableUser:(0,v.fY)({userCapabilities:i}),userCanViewDebitableBalance:(0,v.Pl)({userCapabilities:i}),hasInsufficientCartItemsCredits:n,hasInsufficientSubscriptionCredits:s,insufficientAmount:o,hasLowDebitableBalance:u}}},400966:(e,t,r)=>{r.r(t),r.d(t,{fps:()=>i});var a=r(69704);let i={apiQuery:"filter[fps]",buildApiValue:e=>{let t=(0,a.rN)(e);return t?.replace("other","(47.95 OR 47.96 OR 48)")},columnCount:3,defaultValue:[],getPillLabel:(e,t)=>{let{format:r,t:a}=e,{label:i,value:l}=t;return a("common:filters_sb_fps",{FPS:"other"===l?a(i):r(l)})},primaryText:"common:filters_fps",showInSearchBar:!0,urlValue:"fps",filters:[{label:"23.98",value:"23.98",analyticsLabel:"fps-2398"},{label:"24",value:"24",analyticsLabel:"fps-24"},{label:"25",value:"25",analyticsLabel:"fps-25"},{label:"29.97",value:"29.97",analyticsLabel:"fps-2997"},{label:"30",value:"30",analyticsLabel:"fps-30"},{label:"50",value:"50",analyticsLabel:"fps-50"},{label:"59.94",value:"59.94",analyticsLabel:"fps-5994"},{label:"60",value:"60",analyticsLabel:"fps-60"},{label:"ent:other",value:"other",analyticsLabel:"fps-other"}]}},408300:(e,t,r)=>{r.r(t),r.d(t,{folderView:()=>a.k,publicationRoot:()=>i.publicationRoot});var a=r(62785),i=r(199518)},462284:(e,t,r)=>{r.r(t),r.d(t,{specificPeople:()=>a});let a={apiQuery:"filter[people]",buildApiValue:e=>e,getPillLabel:(e,t)=>{let{t:r}=e,{value:a}=t;return r("ent:filter_pill_specific_person",{PERSON:a})},placeholderCopy:"common:filters_contributor_name",primaryText:"common:filters_specific_people",showInSearchBar:!0,urlValue:"person",defaultValue:[]}},462430:(e,t,r)=>{r.d(t,{S:()=>n});var a=r(813631),i=r(95807),l=r(996887);let n=e=>{let{assetType:t,subscriptions:r,selectedLicenseId:n}=e;switch(t){case a.G_:return(0,l.K)({licenseName:n,subscriptions:r});case a.FY:case a.on:case a.M9:case a.W1:default:return(0,i.V)({subscriptions:r,licenseName:n})}}},470235:(e,t,r)=>{r.r(t),r.d(t,{DynamicSnackbar:()=>u});var a=r(406029),i=r(648973),l=r(461266),n=r(455729),s=r(34552),o=r(816641);let u=e=>{let{alertAction:t={},alertSeverity:r=i.rD,error:u,handleSnackbarClose:c=l.lQ,isOpen:d,message:m="",onSnackbarExited:p=l.lQ,isDismissible:f=!0,anchorOrigin:h=s.tH}=e,[b,y]=(0,n.useState)(!1);return(0,a.jsx)(a.Fragment,{children:d||b?(0,a.jsx)(o.F,{alertAction:t,alertSeverity:r,error:u,handleSnackbarClose:c,isOpen:d,message:m,onSnackbarExited:p,setEntered:y,isDismissible:f,anchorOrigin:h},m):null})}},473952:(e,t,r)=>{r.r(t),r.d(t,{endDate:()=>a});let a={primaryText:"ent:filters_editorial_custom_range",apiQuery:"filter[endDate]",buildApiValue:e=>e,getPillLabel:(e,t)=>{let{t:r}=e,{value:a}=t;return r("ent:filter_pill_end_date",{DATE:a})},label:"ent:end_date",showInSearchBar:!0,urlValue:"endDate",pillFilterOverride:{primaryText:null},defaultValue:null}},477222:(e,t,r)=>{r.d(t,{En:()=>d,Gb:()=>c,Ix:()=>m,LP:()=>h,Nx:()=>_,WI:()=>b,pQ:()=>v,wy:()=>g,zZ:()=>y});var a=r(646272),i=r(813631),l=r(728779),n=r(559067),s=r(573923),o=r(722442),u=r(559044);let c=e=>"Untitled"===e,d=function(){let{items:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e&&0===e.length},m=e=>{let t=!e?.role&&!e?.isPublic;return e?.role===n.Zh||t},p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{id:t=""}=e,[,r,a]=t.split("-");return{id:a,type:r===i.FY?i.on:r,aspect:1,src:"",previewImageUrl:""}},f=function(){let{metadata:e={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.tracking){let r;try{r=(0,s.fF)({trackingId:JSON.parse(e.tracking)?.search})}catch(t){r=(0,s.fF)({trackingId:e.tracking})}return{search_context:r,...t}}return t},h=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return e.mediaItem?.id?(0,o.cK)(e.mediaItem):t&&p(e)},b=(e,t)=>e?e.reduce((e,r)=>{let a=h(r,t);return e.collectionItems.push({...r,mediaItem:{...a,meta:f(r,r?.meta)}}),a&&e.mediaItems.push({...a,meta:f(r,a?.meta)}),e},{collectionItems:[],mediaItems:[]}):{collectionItems:e},y=e=>{let{assetType:t,t:r,totalItemCount:a}=e,l=t===i.uH,n=1===a,s=l?"ent:collection_editorial_total_single":`feature-collections:number_${i.GC[t]}_single`,o=l?"ent:collection_editorial_total_plural":`feature-collections:number_${i.GC[t]}_plural`;return r(n?s:o,{NUM_TRACKS:a})},g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return!!e.find(e=>e.type===l.kS)},_=e=>{let{assets:t=[],assetType:r}=e;switch(r){case i.on:case i.FY:return t.some(e=>(0,u.pj)({track:e}));case i.W1:return t.some(e=>(0,u.Uh)(e));default:return!1}},v=e=>{let{assetType:t,isBrandSstk:r}=e;return r?a.i[t]:l.w$[t]}},478586:(e,t,r)=>{r.d(t,{Z:()=>n});var a=r(27489),i=r(543765),l=r(778042);let n=()=>{let e=(0,l.a)(),t=(0,i.Y)(),{openQuickViewCart:r}=(0,a.m)();return{viewCartAction:e?t:r}}},498848:(e,t,r)=>{r.d(t,{J:()=>c});var a=r(754725),i=r(932317),l=r(573923),n=r(323069),s=r(811407),o=r(946887),u=r(455729);let c=()=>{let{isBrandSstk:e}=(0,n.P)(),{searchTrackingIdRef:t,searchTermRef:r,setters:{setSearchTrackingId:c,setSearchTerm:d}}=(0,i.K6)(),m=(0,u.useCallback)(r=>{let{trackingId:i,term:l}=r;if(i){if(t.current===i&&(0,s.vb)()===i)return;(0,s.rv)(i),(0,s.Nh)(l),c(i),d(l),e&&o.A.set(a.lj,i,{expires:a.AY,sameSite:"strict"})}},[e,t,d,c]),p=(0,u.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{meta:a}=e,i=(0,l.Pf)({asset:e})||t.current||(0,s.vb)();return(0,l.fF)({trackingId:i?.uuid||i,searchTerm:a?.query||a?.search_context?.search_term||r.current||(0,s.lV)()})},[r,t]),f=(0,u.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e?.[0]||e,{meta:a}=t,i=(0,l.Pf)({asset:t})||(0,s.vb)();return(0,l.fF)({trackingId:i,searchTerm:a?.query||a?.search_context?.search_term||r.current||(0,s.lV)()})},[r]);return{setSearchContext:m,getSearchContext:p,validateSearchTrackingId:(0,u.useCallback)(()=>{let i=(0,s.vb)(),l=t.current,n=r.current,u=(0,s.lV)();(l!==i||n!==u)&&((0,s.rv)(l),(0,s.Nh)(n),e&&o.A.set(a.lj,l,{expires:a.AY,sameSite:"strict"}))},[e,r,t]),getSearchContextFromAssets:f}}},503424:(e,t,r)=>{r.d(t,{G:()=>n});var a=r(84260),i=r(981278),l=r(455729);let n=()=>{let e=(0,i.useRouter)();return(0,l.useCallback)(t=>{let{assetType:r,collectionId:i,verificationCode:l}=t,n=(0,a.w)({assetType:r,id:i,verificationCode:l});e.push(...n)},[e])}},516319:(e,t,r)=>{r.d(t,{k:()=>i});var a=r(524335);let i=()=>{let{checkGate:e}=(0,a.U)();return e("lego-2245-ledger-low-balance")}},520056:(e,t,r)=>{r.r(t),r.d(t,{shotType:()=>a});let a={apiQuery:"filter[category]",defaultValue:null,buildApiValue:()=>null,primaryText:"ent:filters_shot_type",urlValue:"shotType",getPillLabel:(e,t)=>{let{t:r}=e,{label:a}=t;return r(a)},columnCount:2,showInSearchBar:!0,filters:r(970767).R6.shotType}},525742:(e,t,r)=>{r.r(t),r.d(t,{SignUpModal:()=>x});var a=r(406029),i=r(59222),l=r(45890),n=r(687534),s=r(464839),o=r(926114),u=r(494456),c=r(205026),d=r(693313),m=r(120638),p=r(654057),f=r(377981),h=r(822857),b=r(542084),y=r(982937),g=r(251476),_=r(981278),v=r(568880),w=r(455729),S=r(995561);let C=(0,r(807703).n9)()(e=>{let{tokens:{font:t,spacing:r,zIndex:a,color:i}}=e;return{loaderContainer:{zIndex:a["5"],display:"flex",justifyContent:"center",alignItems:"center",height:"80%",width:"49%",backgroundColor:i.white,position:"absolute",right:0,bottom:0},flexRoot:{display:"flex",alignItems:"stretch",height:"100%",width:S.oN},flexChild:{flex:1,maxWidth:"50%",width:S.oN/2,padding:r.s},divider:{height:"auto"},sectionHeading:{fontSize:t.size["3xl"],color:i.gray["onyx-87"],marginBottom:r.m,fontWeight:t.weight.bold,zIndex:a["2"],position:"relative",lineHeight:r.l},sectionSubHeading:{display:"flex",width:"100%",color:i.gray["onyx-60"],marginBottom:r.m,alignItems:"center"},iconContainer:{marginRight:r.m,display:"flex"}}}),I=e=>{let{bannerData:t}=e,{classes:r}=C(),{t:i}=(0,v.Bd)(o.Zt5);return(0,a.jsxs)(l.A,{className:r.flexChild,children:[(0,a.jsx)(n.A,{className:r.sectionHeading,component:"h1",align:"left",children:i("signup_modal_access_exclusive_features")}),t.map(e=>{let{icon:t,text:l}=e;return(0,a.jsxs)(n.A,{className:r.sectionSubHeading,component:"p",variant:"body1",align:"left",children:[(0,a.jsx)("span",{className:r.iconContainer,children:t}),i(l)]},l)})]})},T=[{icon:(0,a.jsx)(b.V,{}),text:"save_sort_collection"},{icon:(0,a.jsx)(y.Share,{}),text:"share_collections"},{icon:(0,a.jsx)(h.W,{}),text:"try_before_purchase"},{icon:(0,a.jsx)(g.Visibility,{}),text:"keep_track_history"}],x=e=>{let{modalIsOpen:t,handleClose:r,collectionProps:h,iframeTitle:b="SignIn",landingPage:y}=e,[g,S]=(0,w.useState)(!1),x=(0,f.h)(),{locale:P,asPath:A}=(0,_.useRouter)(),{t:k}=(0,v.Bd)(o.Zt5),{classes:V}=C(),L=(0,m.pb)({landing_page:c.Vm,embedded:!0,preset:"cvrt837",hl:P}),$=e=>{let t=`${"en"!==P?`/${P}`:""}${e||A}`,a=new URL(t,window?.location?.origin);x({actionName:"convert - signup from modal successful"}),window.NREUM?.addPageAction?.("UP3-1623 assign useTryButton url to href",{...window.location||{},locale:P,relativeURL:t}),window.location.href=a.toString(),r()},N=()=>{if(h?.cta!==d.W0)return;let{assets:e,gridItems:t}=h;e&&window.sessionStorage.setItem(d.xN,JSON.stringify(e)),t&&window.sessionStorage.setItem(d.ac,JSON.stringify(t))},j=(0,w.useCallback)(()=>{S(!1),window.sessionStorage.removeItem(d.Vt),r()},[r]),{isAuthSuccess:B}=(0,p.B)();return B&&t&&(y&&$(y),$()),(0,a.jsx)(u.ThemedDialog,{open:t,onClose:j,maxWidth:"lg",width:"lg",themeModeOverride:void 0,children:(0,a.jsxs)("div",{className:V.flexRoot,children:[(0,a.jsx)(I,{bannerData:T}),(0,a.jsx)(i.A,{className:V.divider,orientation:"vertical"}),(0,a.jsxs)(l.A,{className:V.flexChild,children:[(0,a.jsx)(n.A,{className:V.sectionHeading,component:"h1",align:"left",pl:4,children:k("generate:create_free_account")}),(0,a.jsx)("iframe",{onLoad:e=>{e.preventDefault(),S(!0),window.sessionStorage.setItem(d.Vt,JSON.stringify(!0)),N()},style:{height:600,border:"none",width:"100%",overflow:"none"},title:b,src:L,loading:"eager"}),!g&&(0,a.jsx)(l.A,{className:V.loaderContainer,children:(0,a.jsx)(s.A,{color:"inherit",size:60,disableShrink:!0})})]})]})})}},543765:(e,t,r)=>{r.d(t,{Y:()=>s});var a=r(323069),i=r(981278),l=r(455729),n=r(263896);let s=()=>{let e=(0,n.D)(),{isBrandSstk:t}=(0,a.P)(),r=(0,i.useRouter)();return(0,l.useCallback)(()=>{t?(window.NREUM?.addPageAction?.("UP3-1623 assign useCartRedirect cartHref to href",{...window.location||{},cartHref:e,isBrandSstk:t}),window.location.href=e):r.push(e)},[e,t,r])}},579121:(e,t,r)=>{r.d(t,{U:()=>u});var a=r(573923),i=r(559044),l=r(498848),n=r(586694),s=r(981278),o=r(455729);let u=()=>{let{analytics:e}=(0,n.pn)(),t=(0,n.vl)(),{asPath:r}=(0,s.useRouter)(),{setSearchContext:u,getSearchContext:c}=(0,l.J)();return(0,o.useCallback)(l=>{let{asset:n,gridItems:s,eventLabel:o="",listId:d=""}=l;if(n.link===r)return;u({trackingId:(0,a.Pf)({asset:n}),term:n.meta?.query});let m=(0,a.I2)(n);e.productClicked({asset_type:(0,i.x4)(n),category:(0,a.bW)(n),channels:(0,a.Jp)(n),name:(0,a.H0)(n),product_id:m,sku:m,...t?{pageSection:t,eventLabel:o}:{},...s?(0,a.aW)({gridItems:s,item:n}):{},...d?{list_id:d}:{},search_context:c(n)})},[e,r,c,t,u])}},585076:(e,t,r)=>{r.d(t,{E:()=>s});var a=r(930500),i=r(871335),l=r(10545),n=r(703399);let s=e=>{let t,{items:r,isLoading:s,subscription:o,subscriptions:u,userCapabilities:c}=e;return s?{}:(o&&(t=o.creditType),u&&u.length>0&&(t=u[0].creditType),(0,i.fY)({userCapabilities:c})?(0,n.h)({items:r,subscription:o,subscriptions:u,hasWrapperSubscription:(0,i.GT)({userCapabilities:c})}):{amountType:t||a.EV,hasLowDebitableBalance:!1,hasInsufficientSubscriptionCredits:o&&0===(0,l.J)({subscription:o}),insufficientAmount:null})}},585754:(e,t,r)=>{r.r(t),r.d(t,{orientation:()=>a});let a={apiQuery:"filter[category]",defaultValue:null,buildApiValue:()=>null,primaryText:"common:filters_orientation",urlValue:"orientation",getPillLabel:(e,t)=>{let{t:r}=e,{label:a}=t;return r(a)},columnCount:2,showInSearchBar:!0,filters:r(970767).R6.orientation}},592911:(e,t,r)=>{r.r(t),r.d(t,{categories:()=>a.categories,collections:()=>i.collections,dateShot:()=>l.dateShot,editorialSortBy:()=>b.editorialSortBy,endDate:()=>n.endDate,events:()=>s.events,exclusive:()=>o.j,gender:()=>u.gender,orientation:()=>c.orientation,people:()=>m.people,performing:()=>p.performing,personality:()=>f.personality,productType:()=>h.g,shotType:()=>d.shotType,specificPeople:()=>_.specificPeople,startDate:()=>y.startDate,tiers:()=>g.tiers});var a=r(595848),i=r(67089),l=r(95727),n=r(473952),s=r(690789),o=r(932544),u=r(903657),c=r(585754),d=r(520056),m=r(785535),p=r(295755),f=r(867664),h=r(369316),b=r(314354),y=r(924583),g=r(642713),_=r(462284)},594495:(e,t,r)=>{r.d(t,{mj:()=>u});var a=r(926114),i=r(302168),l=r(323069),n=r(568880),s=r(455729);let o="ent:license_",u=e=>{let{t}=(0,n.Bd)([a.Xek,a.fW6],{lng:e}),{isBrandSstk:r}=(0,l.P)();return(0,s.useCallback)(function(){let e,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{licenseName:n,subscription:s}=l;if(n&&(e=`${o}${n.replace(/_unlimited/,"")}`),s){if(r){let r=s.product?.name;if(r&&(0,i.l2)({productName:r}))return t(e=`product-names:${r}`,{ns:a.fW6});s.product?.name&&(e=`ecomm:license_${s.product.name}`)}!r&&"redeemableFor"in s&&s.redeemableFor&&(e=`${o}${s.redeemableFor.replace(/_unlimited/,"")}`),!r&&"license"in s&&s.license&&(e=`${o}${s.license.replace(/_unlimited/,"")}`)}return e?t(e):""},[r,t])}},595848:(e,t,r)=>{r.r(t),r.d(t,{categories:()=>n});var a=r(970767);let i=(0,a.ow)(),l=a.R6.categories,n={apiQuery:"filter[category]",defaultValue:[],buildApiValue:e=>e,placeholderCopy:"common:filters_category_more_title",primaryText:"common:filters_category_more_title",urlValue:"category",getPillLabel:(e,t)=>{let{t:r}=e,{label:a}=t;return r(a)},columnCount:2,showInSearchBar:!0,filters:[...i,...l],fixedFilters:i,autocompleteFilters:l}},629749:(e,t,r)=>{r.d(t,{v:()=>l});var a=r(455729),i=r(157535);let l=()=>(0,a.useContext)(i.j)},642713:(e,t,r)=>{r.r(t),r.d(t,{tiers:()=>l});var a=r(821790);let i={premium:a.MO.PREMIUM.join(","),nonpremium:a.MO.NON_PREMIUM.join(",")},l={apiQuery:"filter[tiers]",buildApiValue:e=>i[e],columnCount:2,defaultValue:null,getPillLabel:(e,t)=>{let{t:r}=e,{label:a}=t;return r(a)},showInSearchBar:!0,urlValue:"tiers",getHelperText:()=>"ent:premium_content_by_shutterstock_star",primaryText:"common:filters_premium_editorial",filters:[{label:"common:filters_all_editorial",analyticsLabel:"allEditorial",value:"editorial",isDefault:!0},{label:"common:filters_only_premium_editorial",analyticsLabel:"onlyPremium",value:"premium"},{label:"common:filters_hide_premium_editorial",analyticsLabel:"hidePremium",value:"nonpremium"}],getCapabilityConf:()=>({tooltipLabel:"ent:tip_no_access_content",key:"userCanViewRexEditorialImage"})}},644783:(e,t,r)=>{r.d(t,{Kq:()=>h,XO:()=>m,c0:()=>p,gB:()=>f,nS:()=>o,oz:()=>u,vj:()=>d,yQ:()=>c});var a=r(338436),i=r(813631),l=r(559044),n=r(962316);let s=[i.G_],o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:480;if(!n.R6||"string"!=typeof e||e.includes(`ip=x${t}`))return e;try{let r=new URL(e);return r.searchParams.set("ip",`x${t}`),r.href}catch{return e}},u=e=>e?.mediaItem?{previewImageUrl:e.mediaItem?.previewImageUrl,previewVideoUrls:e.mediaItem?.previewVideoUrls}:{previewImageUrl:e?.thumbImageUrl||e?.image?.url||e?.previewImageUrl,previewVideoUrls:e?.previewVideoUrls},c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:480,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!(0,l.aH)(e)){let t=e.src||e.image?.url;return r&&e?.displays?.[a.nQ]?.src||t}let{previewImageUrl:i}=u(e);return o(i,t)},d=e=>{let{assetType:t}=e;return t===i.G_?"mp4":null},m=e=>{let{asset:t}=e;return s.includes((0,l.f0)(t))&&!(0,l.Kx)(t)},p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if((0,l.lF)(e?.type))return e?.width>1e3?`${e?.previewUrls[0]}?width=1000`:e?.previewUrls[0];let t=(0,l.$9)(e)?a.pI:a.jx,r=e?.displays?.[t]?.src||e?.image?.displays?.[t]?.src;return(0,l.R1)(e)&&e.angle?r.replace(/\/([A-Z]\d\d)./,`/${e.angle}.`):r},f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,l.f0)(e);return t===i.W1||t===i.wt||t===i._g?e?.displays?.[a.pI]?.src||e?.src:t===i.o9?e?.imageVariants?.["1500"]:t===i.on||t===i.M9?e?.previewMp3:t===i.nE?e?.previewUrls[0]:t===i.gv?e.cmsEntry?.image?.url:null},h=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r={width:e.width??e.mediaItem?.width??0,height:e.height??e.mediaItem?.height??0};if((0,l.aH)(e)&&(!r.width||!r.height)&&e.sizes){let t=Object.keys(e.sizes).find(t=>e.sizes[t]);r.width=t&&e.sizes[t].width||0,r.height=t&&e.sizes[t].height||0}if(t&&(!r.width||!r.height)&&e.aspectRatioCommon){let[t,a]=e.aspectRatioCommon.split(":");r.width=Number(t),r.height=Number(a)}return r}},690789:(e,t,r)=>{r.r(t),r.d(t,{events:()=>a});let a={apiQuery:"filter[events]",buildApiValue:e=>e,getPillLabel:(e,t)=>{let{t:r}=e,{value:a}=t;return r("ent:filter_pill_event",{EVENT:a})},placeholderCopy:"common:filters_events",primaryText:"common:filters_events",showInSearchBar:!0,urlValue:r(821790).Ax,defaultValue:[]}},703399:(e,t,r)=>{r.d(t,{h:()=>u});var a=r(930500),i=r(871335),l=r(159658),n=r(302450),s=r(560325);let o=e=>{let{acc:t,totalCostOfItems:r,amountRemaining:i,totalAmount:l,bypassLowBalance:n=!1}=e;return n||(r>i&&(t.hasInsufficientSubscriptionCredits=!0,t.hasLowDebitableBalance=!1,t.insufficientAmount=r-i),!t.hasInsufficientSubscriptionCredits&&i<=l*a.O7&&(t.hasLowDebitableBalance=!0)),t},u=e=>{let{items:t,subscriptions:r,subscription:u,hasWrapperSubscription:c=!0}=e;if(t&&t.length){let e={hasInsufficientSubscriptionCredits:!1,hasLowDebitableBalance:!1,insufficientAmount:0,total:0,totalCreditAmount:0,amountType:a.EV};return t.reduce((e,t)=>{let{licenseId:d,price:m}=t,p=(0,l.W)({assets:[t]}),f=u||(0,s.A)({subscriptions:(0,n.s)({assetType:p,subscriptions:r})?.subscriptions,licenseName:d,assetType:p})||{},{totalAmount:h,amountRemaining:b,amountType:y,amount:g}=(0,i.hY)(f);e.amountType=y;let _=parseFloat(m),v=parseFloat(e.total)+_;if(e.total+=_,y===a.zy){let t=parseFloat(g),r=parseFloat(e.totalCreditAmount)+t;return e.totalCreditAmount+=t,o({acc:e,totalCostOfItems:r,amountRemaining:b,totalAmount:h,bypassLowBalance:!c})}return o({acc:e,totalCostOfItems:v,amountRemaining:b,totalAmount:h,bypassLowBalance:!c})},e)}let d=r||{},m=Object.keys(d).find(e=>Array.isArray(d[e])&&d[e].length),p=m&&(0,i.j6)({subscriptions:d[m]||[]})[0]||{},{totalAmount:f,amountRemaining:h,amountType:b}=(0,i.hY)(p);return{amountType:b,hasInsufficientSubscriptionCredits:!1,hasLowDebitableBalance:h<=f*a.O7,insufficientAmount:null}}},726988:(e,t,r)=>{r.d(t,{f:()=>o});var a=r(813631),i=r(573923),l=r(498848),n=r(586694),s=r(455729);let o=()=>{let{analytics:e}=(0,n.pn)(),{getSearchContext:t}=(0,l.J)(),r=(0,s.useCallback)(t=>{let{cartId:r,items:a}=t,l=(a||[]).map((e,t)=>(0,i.Aj)({asset:e,cartId:r,index:t})),n=l.reduce((e,t)=>({totalPrice:e.totalPrice+Number(t.price),toBeBilled:e.toBeBilled+1}),{totalPrice:0,toBeBilled:0});e.cartViewed({products:l,cartId:r,cartTotal:Math.round(100*n.totalPrice)/100,numItemsBilledToCard:n.toBeBilled,shouldCheckout:n.totalPrice>0,shouldDownload:l.length>0&&0===n.totalPrice})},[e]);return{productAddedAnalyticsEvent:(0,s.useCallback)(r=>{let{cart:a,eventLabel:l,gridItems:n,items:s,licenseId:o,licensePrice:u,listId:c,pageSection:d}=r;e.productAdded({products:s.map(e=>(0,i.Un)({asset:e,cartData:a,getSearchContext:t,gridItems:n,licenseId:o,licensePrice:u,pageSection:d})),eventLabel:l,list_id:c??""})},[e,t]),productRemovedAnalyticsEvent:(0,s.useCallback)(r=>{let{cart:l,eventLabel:n,gridItems:s,items:o,listId:u,matchingCartItem:c,pageSection:d}=r;if(c){let[r]=o;e.productRemoved({...(0,i.Un)({asset:r,cartData:l,getSearchContext:t,gridItems:s,pageSection:d}),price:c.price===a.Mp?0:Number(c.price),variant:c.licenseId,eventLabel:n,list_id:u??""})}else e.productRemoved({products:o.map(e=>(0,i.Un)({asset:e,cartData:l,getSearchContext:t,gridItems:s,pageSection:d})),eventLabel:n,list_id:u??""})},[e,t]),cartViewedAnalyticsEvent:r}}},760973:(e,t,r)=>{r.d(t,{N:()=>o});var a=r(487519),i=r(648973),l=r(728779),n=r(531950),s=r(455729);let o=()=>{let[e,t]=(0,s.useState)({status:"",error:void 0}),r=(0,s.useCallback)(async e=>{let{collection:r,mediaItem:s}=e,o=(0,a.Xz)({urlParams:{id:r.id}}).formattedUrl,u={data:{id:r.id,relationships:{"cover-item":{data:{id:`${s.id}`,type:l.kS}}},type:l.I}};try{t({status:i.qO,error:void 0}),await n.Bn.patch(o,u)}catch(e){t({status:i.Nz,error:e})}},[]);return{status:e,setStatus:t,setAsCover:r}}},785535:(e,t,r)=>{r.r(t),r.d(t,{people:()=>l});var a=r(821790),i=r(970767);let l={apiQuery:"filter[category]",defaultValue:null,buildApiValue:()=>null,primaryText:"common:filters_people",urlValue:a.aV,getPillLabel:(e,t)=>{let{t:r}=e,{label:a}=t;return r(a)},columnCount:2,showInSearchBar:!0,filters:i.R6.people}},786380:(e,t,r)=>{r.d(t,{tz:()=>m,IF:()=>c,gu:()=>p});var a=r(563609);let i=JSON.parse('{"id":"817884412194d74ce8493384e1a1875a178f3ab2813ceb52f831b18403350ec3","type":"query","name":"FetchAssetReviewStatusData","source":"query FetchAssetReviewStatusData($where:MediaWhere!){creativeImages(where:$where){data{classicId ipReviewStatus{isAppealable rejectionReasons status __typename}isIpReviewed referenceIds{namespace name value __typename}__typename}__typename}}"}');var l=r(946131),n=r(320437),s=r(293251),o=r(12482),u=r(455729);let c=e=>{let{assetIds:t}=e;return[i.source,{where:{classicIds:t}}]},d=e=>e?.creativeImages?.data?e.creativeImages.data.filter(e=>null!==e).map(e=>{let t=e?.isIpReviewed||!1,r=e?.classicId||"";return{classicId:r,isIpReviewed:t,ipReviewStatus:e?.ipReviewStatus?.status||"",isAppealable:e?.ipReviewStatus?.isAppealable??!1,queryKey:c({assetIds:[r]})}}):[],m=async(e,t)=>{let[r,a]=t;return e(r,a).then(d)},p=(e,t)=>{let{assetIds:r}=e,i=(0,l.s)("/"),d=(0,n.v)(),p=(0,s.jE)(),f=c({assetIds:r}),h=(0,u.useCallback)(e=>{let{reviewStatus:t}=e;return p.setQueryData(f,e=>[{...e[0],isIpReview:!1,ipReviewStatus:t}]),p.invalidateQueries({queryKey:f,predicate:e=>{let{queryKey:t}=e;return t===f}})},[f,p]),{data:b,isLoading:y,error:g}=(0,o.I)({enabled:t,queryKey:f,queryFn:e=>{let{queryKey:t}=e;return m(i,t)},throwOnError(e,t){let{queryKey:r}=t;return e&&d({error:e,msg:a.a_,customAttributes:{queryKey:r}}),!1}});return{data:b,error:g,isLoading:y,updateReviewStatus:h}}},788098:(e,t,r)=>{r.d(t,{H:()=>a});let a=e=>{let{subPage:t,pageType:r}=e;return[t,r].join("-")}},836640:(e,t,r)=>{r.d(t,{A:()=>n});var a=r(969185),i=r(921075),l=r(524335);let n=()=>{let e=(0,i.h)(),t=e?.userCanViewPortfolio,{checkGate:r}=(0,l.U)(),n=r(a.V_),s=e?.debugCohorts?.active?.CohortEnterprisePrePaid;return t||n&&s}},867664:(e,t,r)=>{r.r(t),r.d(t,{personality:()=>a});let a={apiQuery:"filter[category]",defaultValue:null,buildApiValue:()=>null,primaryText:"ent:filters_editorial_category_personality",urlValue:"personality",getPillLabel:(e,t)=>{let{t:r}=e,{label:a}=t;return r(a)},columnCount:2,showInSearchBar:!0,filters:r(970767).R6.personality}},903657:(e,t,r)=>{r.r(t),r.d(t,{gender:()=>a});let a={apiQuery:"filter[category]",defaultValue:null,buildApiValue:()=>null,primaryText:"image:filters_gender",urlValue:"gender",getPillLabel:(e,t)=>{let{t:r}=e,{label:a}=t;return r(a)},columnCount:2,showInSearchBar:!0,filters:r(970767).R6.gender}},918171:(e,t,r)=>{r.d(t,{F5:()=>s,TQ:()=>n});var a=r(82281),i=r.n(a);let l=e=>{let{name:t}=e,{publicRuntimeConfig:{campaign:r}}=i()();return r?.[t]||null},n=e=>{let{publicRuntimeConfig:{assets:{cdnHostURL:t}}}=i()();if(t&&e.id)return`${t}/dream/photos/${e.id}.jpg`},s=e=>{let{contributorId:t}=e,r=l({name:"dream"})?.contributorId;return!!r&&(Array.isArray(r)||(r=[r]),!!t&&r.includes(Number(t)))}},924583:(e,t,r)=>{r.r(t),r.d(t,{startDate:()=>a});let a={primaryText:"ent:filters_editorial_custom_range",apiQuery:"filter[startDate]",buildApiValue:e=>e,getPillLabel:(e,t)=>{let{t:r}=e,{value:a}=t;return r("ent:filter_pill_start_date",{DATE:a})},label:"ent:start_date",showInSearchBar:!0,urlValue:"startDate",defaultValue:null}},928402:(e,t,r)=>{r.d(t,{F:()=>y});var a=r(821790),i=r(592911),l=r(408300),n=r(353302),s=r(1917),o=r(36355);let{EDITORIAL_LATEST_EVENTS:u,EDITORIAL_VIDEO_SEARCH:c,EDITORIAL_IMAGE_SEARCH:d,EDITORIAL_PUBLICATION:m,EDITORIAL_COMPILATION:p}=a.LP,f={[u]:l,[c]:s,[d]:i,[m]:n,[p]:n},h=["categories","gender","orientation","people","performing","personality","shotType"],b=e=>{let{filterType:t}=e;return f[t]},y=e=>{let{queryParams:t,...r}=e,a=b(r),i=h.reduce((e,r)=>[...e,...t[a[r]?.urlValue]?[t[a[r].urlValue]]:[]],[]).join(",");return(0,o.Q)({queryParams:{...t,...i?{[a.categories.urlValue]:i}:{}},...r},a)}},932544:(e,t,r)=>{r.d(t,{j:()=>a});let a={apiQuery:"filter[category]",defaultValue:null,buildApiValue:(e,t)=>{let{queryParams:{category:r}}=t;return"true"===String(e)?["Exclusive",r].filter(e=>e).join(","):r},primaryText:"ent:filters_exclusive",getHelperText:()=>"ent:filters_exclusive_legend",urlValue:r(821790).Zx,getPillLabel:e=>{let{t}=e;return t("ent:filters_exclusive")},showInSearchBar:!0,filters:[{label:"true",value:"true"}]}},936479:(e,t,r)=>{r.d(t,{Df:()=>m,WP:()=>c,Xl:()=>n,bE:()=>o,bR:()=>f,cb:()=>u,dt:()=>s,fh:()=>p,h_:()=>d,vY:()=>b,vv:()=>h});var a=r(514264),i=r(940252);let l=e=>{let{urlParams:t={},queryParams:r={}}=e,l=`/cart/${t.isPrimary?a.jT:a.pw}`,n={...r};return{url:l,defaultParams:n,formattedUrl:(0,i.format)({pathname:l,query:n})}},n=function(){let{urlParams:e={},queryParams:t={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=l({urlParams:e,queryParams:t}),a={...r.defaultParams};return{...r,defaultParams:a,formattedUrl:(0,i.format)({pathname:r.url,query:a})}},s=l,o=l,u=e=>{let{urlParams:t={},queryParams:r={}}=e,a=`/cart/${t.fromCartType}/to/${t.toCartType}`,l={...r};return{url:a,defaultParams:l,formattedUrl:(0,i.format)({pathname:a,query:l})}},c=e=>{let{urlParams:t={}}=e,r=`/organization/${t.organizationId}/invitations/${t.status}`;return{url:r,formattedUrl:(0,i.format)({pathname:r})}},d=e=>{let{urlParams:t={}}=e,r=`/account/user/${t.id}/settings`;return{url:r,formattedUrl:(0,i.format)({pathname:r})}},m=e=>{let{urlParams:t={}}=e,r=`/account/user/${t.id}/settings`;return{url:r,formattedUrl:(0,i.format)({pathname:r})}},p=e=>{let{urlParams:t={}}=e,r=`/organization/${t.organizationId}/invitations/${t.invitationId}`;return{url:r,formattedUrl:(0,i.format)({pathname:r})}},f=e=>{let{urlParams:t={}}=e,r=`/organization/${t.organizationId}/invitations`;return{url:r,formattedUrl:(0,i.format)({pathname:r})}},h=e=>{let{urlParams:t={}}=e,r=`/organization/users/${t.id}`;return{url:r,formattedUrl:(0,i.format)({pathname:r})}},b=function(){let{queryParams:e={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=`/cart/${a.jT}/quote`,r={...e,exclude_comps:1,expand:"agreements"};return{url:t,defaultParams:r,formattedUrl:(0,i.format)({pathname:t,query:r})}}},963228:(e,t,r)=>{r.d(t,{Z:()=>a});let a=e=>e&&"string"==typeof e?`${e.charAt(0).toUpperCase()}${e.slice(1)}`:""},970767:(e,t,r)=>{r.d(t,{R6:()=>o,ow:()=>u});let a={Spotlight:{},News:{},Sports:{},Entertainment:{},Archival:{},Royalty:{},Fashion:{}},i={categories:{Actor:{},Actress:{},Animal:{},Art:{},Artist:{},Awards:{},"British Politician":{},"British Royalty":{},Businessman:{},Businessperson:{},Businesswoman:{},Celebrity:{},Chef:{},Comedian:{},Comedienne:{},Crime:{},Demonstration:{},Disaster:{},"Disaster & Emergency":{},"Disc Jockey":{},DJ:{},Exclusive:{},"Fashion Designer":{},"Film Director":{},"Film Producer":{},"Film Stills":{},Food:{},"Food & Drink":{},"Football Player":{},FSelect:{},Geography:{},Glamour:{},Group:{},Health:{},Historical:{},Humour:{},Industry:{},Medical:{},Military:{},"Model Released":{},Model:{},Music:{},Newscaster:{},Newsreader:{},"News Reader":{},Nostalgia:{},"Out & About":{},Party:{},Photographer:{},Play:{},Police:{},Politician:{},Pop:{},Posed:{},Posing:{},Premiere:{},PSBig:{},PSSmall:{},"Racing Driver":{},"Radio Presenter":{},"Reality TV Star":{},"Red Carpet":{},Religion:{},Science:{},Socialite:{},Sport:{},Sportsman:{},Sportsperson:{},Sportswoman:{},"Sports Person":{},Star:{},Stock:{},Studio:{},Television:{},"Television Show":{},"Tennis Player":{},Theater:{},Theatre:{},Transport:{},Travel:{},"TV Personality":{},"TV Presenter":{},"War & Conflict":{},Writer:{}},people:{Alone:{},"With Others":{}},orientation:{Landscape:{},Portrait:{}},gender:{Female:{},Male:{}},personality:{Personality:{},"Not-Personality":{}},performing:{Performing:{},"Not-Performing":{}},shotType:{"Full Length":{},Headshot:{}}},l=e=>{let{category:t}=e,r=t.replace(/ & /g," ").replace(/ /g,"_").toLowerCase();return`ent:filters_editorial_category_${r}`},n=e=>{let{categories:t}=e;return Object.keys(t).map(e=>({label:l({category:e}),value:e}))},s=e=>{let{type:t}=e;return t&&i[t]&&n({categories:i[t]})},o=Object.keys(i).reduce((e,t)=>({...e,[t]:s({type:t})}),{}),u=()=>[{label:"ent:filters_editorial_all_content",isDefault:!0},...n({categories:a})]},973681:(e,t,r)=>{r.d(t,{z:()=>I,k:()=>T});var a=r(406029),i=r(366092),l=r(213304),n=r(455729),s=r(836640),o=r(571024),u=r.n(o);let c=u()(()=>Promise.all([r.e(27510),r.e(72076),r.e(10382),r.e(48417),r.e(77618),r.e(6838),r.e(737),r.e(26300),r.e(27273)]).then(r.bind(r,695695)).then(e=>({default:e.AddToCartDialog})),{loadableGenerated:{webpack:()=>[695695]},ssr:!1}),d=u()(()=>Promise.all([r.e(27510),r.e(72076),r.e(10382),r.e(48417),r.e(77618),r.e(6838),r.e(737),r.e(26300),r.e(27273),r.e(49414)]).then(r.bind(r,63882)).then(e=>({default:e.AddToCartDialogLedger})),{loadableGenerated:{webpack:()=>[63882]},ssr:!1}),m=e=>{let{isActive:t,...r}=e,i=(0,l.G)(t),n=(0,s.A)();return i&&(0,a.jsx)(n?d:c,{isActive:t,...r})};var p=r(926114),f=r(478586),h=r(470235),b=r(648973),y=r(514264),g=r(543765),_=r(323069),v=r(568880);let w=e=>{let{status:t,isSizeLimitWarning:r,alertLabels:a}=e;return r?a.sizeLimitWarning:t===b.qO?a.addToCartSuccess:a.addToCartWarning},S=e=>{let{isOpen:t,isSizeLimitWarning:r=!1,addToCartStatus:i,snackBarActionAllowed:l=!0,handleSnackbarClose:n}=e,{t:s}=(0,v.Bd)(p.evH),{status:o,error:u}=i,c={addToCartSuccess:s("common:actions_added_to_cart"),addToCartWarning:s("notifications:label_add_to_cart_failure"),sizeLimitWarning:s("ent:cart_size_limit_warning",{LIMIT:y.Zm}),viewActionLabel:s("common:actions_view")},d=w({status:o,isSizeLimitWarning:r,alertLabels:c}),{isBrandEnterprise:m}=(0,_.P)(),{viewCartAction:S}=(0,f.Z)(),C=(0,g.Y)(),I={onClick:()=>{n(),m?C():S()},label:c.viewActionLabel};return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(h.DynamicSnackbar,{...i.status===b.qO&&l&&{alertAction:I},alertSeverity:o,error:u,handleSnackbarClose:n,isOpen:t&&!!o,message:d})})},C={status:"",error:void 0},I=e=>{let{addToCartStatus:t=C,assets:r=null,eventLabel:i,gridItems:n=null,isAddToCartDialogActive:s,isPrimary:o,isSnackBarOpen:u,isSizeLimitWarning:c,onAddToCart:d,onAlertSnackbarClose:p,setIsAddToCartDialogActive:f,pageSection:h,listId:b,snackBarActionAllowed:y=!0}=e;return(0,l.G)(r)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m,{assets:r,eventLabel:i,gridItems:n,isActive:s,isPrimary:o,listId:b,onAddToCart:d,pageSection:h,setIsActive:f}),(0,a.jsx)(S,{snackBarActionAllowed:y,addToCartStatus:t,handleSnackbarClose:p,isOpen:u,isSizeLimitWarning:c})]}):null},T=function(){let{withOptimisticUpdate:e=!0,setIsVerifying:t,snackBarActionAllowed:r=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[a,l]=(0,n.useState)(!1),[s,o]=(0,n.useState)(!1),[u,c]=(0,n.useState)(null),[d,m]=(0,n.useState)(null),[p,f]=(0,n.useState)(!0),[h,b]=(0,n.useState)(null),[y,g]=(0,n.useState)(null),[_,v]=(0,n.useState)(null),{addCartItems:w,moveToSaveForLater:S,moveToPrimary:C,addToCartStatus:T,isSizeLimitWarning:x,notAddedSelectVideos:P}=(0,i.Nc)();(0,n.useEffect)(()=>()=>c(null),[]);let A=(0,n.useCallback)(r=>{let{assets:a,eventLabel:i,licenseId:l,formatType:n,licensePrice:s,cart:c,mutateCart:m,notAddedSelectVideoIds:f,pageSection:h,listId:b}=r;t?.(!0),o(!0),w({cart:c,eventLabel:i,gridItems:d,isPrimary:p,itemsToAdd:a||u,licenseId:l,formatType:n,licensePrice:s,mutateCart:m,notAddedSelectVideoIds:f,withOptimisticUpdate:e,pageSection:h,listId:b})},[u,d,w,p,t,e]),k=(0,n.useCallback)(async e=>{let{itemsToMove:r,primaryCart:a,mutatePrimaryCart:i,mutateSavedForLaterCart:l}=e;t?.(!0),o(!0);try{await C({itemsToMove:r,primaryCart:a,mutatePrimaryCart:i,mutateSavedForLaterCart:l})}catch(e){t?.(!1)}},[C,t]),V=(0,n.useCallback)(async e=>{let{itemsToMove:r,primaryCart:a,savedForLaterCart:i,mutatePrimaryCart:l,mutateSavedForLaterCart:n}=e;t?.(!0),o(!0);try{await S({itemsToMove:r,primaryCart:a,savedForLaterCart:i,mutatePrimaryCart:l,mutateSavedForLaterCart:n})}catch(e){t?.(!1)}},[S,t]);return{addToCartViewsProps:(0,n.useMemo)(()=>({addToCartStatus:T,assets:u,eventLabel:_,gridItems:d,isAddToCartDialogActive:a,isPrimary:p,isSizeLimitWarning:x,isSnackBarOpen:s,onAddToCart:A,onAlertSnackbarClose:()=>o(!1),notAddedSelectVideos:P,setIsAddToCartDialogActive:l,pageSection:h,listId:y,snackBarActionAllowed:r}),[u,d,T,_,y,h,a,p,x,s,P,A,r]),addToCartViewsHandler:(0,n.useCallback)(e=>{let{assets:t,eventLabel:r,gridItems:a,isMoveToPrimaryCart:i=!1,isMoveToSavedForLaterCart:n=!1,isPrimaryCart:s=!0,mutatePrimaryCart:o,mutateSavedForLaterCart:u,primaryCart:d,savedForLaterCart:p,withDialog:h=!0,licenseId:y,licensePrice:_,pageSection:w,listId:S}=e;return(c(t),f(s),b(w),v(r),g(S),a&&m(a),i)?void k({itemsToMove:t,primaryCart:d,mutatePrimaryCart:o,mutateSavedForLaterCart:u}):n?void V({itemsToMove:t,primaryCart:d,savedForLaterCart:p,mutatePrimaryCart:o,mutateSavedForLaterCart:u}):void(h?l(!0):A({assets:t,eventLabel:r,cart:d,licenseId:y,licensePrice:_,mutateCart:o,pageSection:w}))},[A,k,V]),AddToCartViews:I}}},996887:(e,t,r)=>{r.d(t,{K:()=>s});var a=r(485650),i=r(95807);let l=e=>{let t,{licenses:r,subscriptions:a}=e;return r.some(e=>t=(0,i.V)({subscriptions:a,licenseName:e})),t},n=e=>{let{existingAssetLicenses:t,licenseType:r,licenseName:a,subscriptions:i}=e;return a===`footage_${r}_sd`?l({licenses:t?.includes(`footage_${r}_hd`)?[`footage_${r}_hd`]:[`footage_${r}_sd`,`footage_${r}_hd`],subscriptions:i}):a===`footage_${r}_lowres`?t?.includes(`footage_${r}_hd`)?l({licenses:[`footage_${r}_hd`],subscriptions:i}):t?.includes(`footage_${r}_sd`)?l({licenses:[`footage_${r}_sd`],subscriptions:i}):l({licenses:[`footage_${r}_lowres`],subscriptions:i}):void 0},s=e=>{let{existingAssetLicenses:t,subscriptions:r,licenseName:l}=e;if([a.UiI,a.eJJ,a.P2I,a.vWp,a.N8V,a.j35,a.eS$,a.Kwu,a.O_b,a.OSP,a.FO6,a.Fc7].some(e=>e===l)||a.CkD.some(e=>e===l))return(0,i.V)({subscriptions:r,licenseName:l});if([a.eNn,a.AWs,a.H8O,a.GO9].some(e=>e===l))return(0,i.V)({subscriptions:r,licenseName:a.eNn});let s=n({existingAssetLicenses:t,licenseType:a.$Me,licenseName:l,subscriptions:r}),o=n({existingAssetLicenses:t,licenseType:a.Lyy,licenseName:l,subscriptions:r}),u=n({existingAssetLicenses:t,licenseType:a.kTi,licenseName:l,subscriptions:r}),c=n({existingAssetLicenses:t,licenseType:a.IDD,licenseName:l,subscriptions:r});return s||o||u||c||void 0}}}]);
//# sourceMappingURL=16510-87b6872ba6c3c633.js.map